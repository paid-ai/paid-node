// This file was auto-generated by Fern from our API Definition.

import type * as Paid from "../index.js";

/**
 * A plan containing products and their attributes
 */
export interface Plan {
    /** The unique identifier of the plan */
    id: string;
    /** The organization ID that owns this plan */
    organizationId: string;
    /** The plan group ID this plan belongs to */
    planGroupId: string;
    /** The name of the plan */
    name: string;
    /** The description of the plan */
    description?: string;
    /** The type of plan (flat for fixed pricing, usage for usage-based, credit for prepaid credits) */
    type: Plan.Type;
    /** The pricing configuration for the plan */
    pricing: Plan.Pricing;
    /** The ID of the next plan in the sequence */
    nextPlanId?: string;
    /** The ID of the previous plan in the sequence */
    prevPlanId?: string;
    /** When the plan was created */
    createdAt: string;
    /** When the plan was last updated */
    updatedAt: string;
    /** The products included in this plan */
    planProducts?: Plan.PlanProducts.Item[];
}

export namespace Plan {
    /** The type of plan (flat for fixed pricing, usage for usage-based, credit for prepaid credits) */
    export const Type = {
        Flat: "flat",
        Usage: "usage",
        Credit: "credit",
    } as const;
    export type Type = (typeof Type)[keyof typeof Type];

    /**
     * The pricing configuration for the plan
     */
    export interface Pricing {
        /** The currency code (e.g., "USD", "EUR") */
        currency: string;
        /** The fixed amount for flat plans (in smallest currency unit, e.g., cents) */
        amount?: number;
        /** The billing frequency for the plan */
        billingFrequency: Pricing.BillingFrequency;
        /** Custom billing frequency in months (if not using standard frequencies) */
        billingFrequencyCustomMonths?: number;
    }

    export namespace Pricing {
        /** The billing frequency for the plan */
        export const BillingFrequency = {
            Monthly: "monthly",
            Quarterly: "quarterly",
            Annual: "annual",
        } as const;
        export type BillingFrequency = (typeof BillingFrequency)[keyof typeof BillingFrequency];
    }

    export type PlanProducts = PlanProducts.Item[];

    export namespace PlanProducts {
        export interface Item {
            id?: string;
            organizationId?: string;
            planId?: string;
            productId?: string;
            createdAt?: string;
            updatedAt?: string;
            /** The product associated with this plan product */
            product?: Paid.Product;
            /** The product attributes with pricing for this plan */
            planProductAttribute?: Item.PlanProductAttribute.Item[];
        }

        export namespace Item {
            export type PlanProductAttribute = PlanProductAttribute.Item[];

            export namespace PlanProductAttribute {
                export interface Item {
                    id?: string;
                    organizationId?: string;
                    planProductId?: string;
                    productAttributeId?: string;
                    /** The pricing configuration for this attribute */
                    pricing?: Record<string, unknown>;
                    createdAt?: string;
                    updatedAt?: string;
                }
            }
        }
    }
}
